<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SkillDebt PRO</title>

<style>
body{
margin:0;font-family:Segoe UI;
background:linear-gradient(135deg,#020617,#0f172a);
color:#fff
}
header{
background:linear-gradient(90deg,#22c55e,#16a34a);
padding:18px;text-align:center;
font-size:1.6rem;font-weight:bold
}
main{padding:15px;padding-bottom:90px}
.section{display:none;background:#020617cc;
padding:15px;border-radius:15px;border:1px solid #334155}
.section.active{display:block}
h2{text-align:center;color:#22c55e}
input,textarea{
width:100%;padding:12px;margin:6px 0;
border-radius:8px;border:none;
background:#0f172a;color:#fff
}
button{
width:100%;padding:14px;border:none;
border-radius:10px;font-weight:bold;
background:#22c55e;color:#000
}
.cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:10px}
.card{background:#0f172a;padding:12px;border-radius:12px;border:1px solid #22c55e}
nav{
position:fixed;bottom:0;width:100%;
display:flex;background:#020617;border-top:2px solid #334155
}
nav button{flex:1;background:none;color:#22c55e}
nav button.active{background:#22c55e;color:#000}
.chat{background:#020617;padding:10px;height:200px;overflow:auto;border-radius:10px}
.msg{margin:5px 0;padding:8px;border-radius:8px;background:#1e293b}
.leader{display:flex;justify-content:space-between}
.premium{color:#facc15;font-weight:bold}
</style>
</head>

<body>

<header>âš¡ SkillDebt PRO</header>

<main>

<!-- ØªØ³Ø¬ÙŠÙ„ -->
<div class="section active" id="login">
<h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
<input id="username" placeholder="Ø§Ø³Ù…Ùƒ">
<button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<div class="section" id="home">
<h2>Ù…Ø±Ø­Ø¨Ø§ <span id="user"></span></h2>
<p>Ø±ØµÙŠØ¯Ùƒ: <b><span id="points"></span></b> Ù†Ù‚Ø·Ø© â­</p>
<button onclick="upgrade()">ØªØ±Ù‚ÙŠØ© Premium â­</button>
</div>

<!-- Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ø§Ø±Ø© -->
<div class="section" id="add">
<h2>Ù‚Ø¯Ù‘Ù… Ù…Ù‡Ø§Ø±Ø©</h2>
<input id="sname" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù‡Ø§Ø±Ø©">
<input id="spoints" type="number" placeholder="Ø§Ù„Ù†Ù‚Ø§Ø·">
<button onclick="addSkill()">Ù†Ø´Ø±</button>
</div>

<!-- Ø§Ù„Ø³ÙˆÙ‚ -->
<div class="section" id="market">
<h2>Ø³ÙˆÙ‚ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</h2>
<div class="cards" id="skills"></div>
</div>

<!-- Ù…Ø­Ø§Ø¯Ø«Ø© -->
<div class="section" id="chat">
<h2>Ù…Ø­Ø§Ø¯Ø«Ø©</h2>
<div class="chat" id="chatBox"></div>
<input id="msg">
<button onclick="send()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

<!-- ØªØ±ØªÙŠØ¨ -->
<div class="section" id="rank">
<h2>ğŸ† Ø§Ù„ØªØ±ØªÙŠØ¨</h2>
<div id="leaders"></div>
</div>

</main>

<nav>
<button onclick="show('home',this)">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
<button onclick="show('add',this)">Ù…Ù‡Ø§Ø±Ø©</button>
<button onclick="show('market',this)">Ø§Ù„Ø³ÙˆÙ‚</button>
<button onclick="show('chat',this)">Ù…Ø­Ø§Ø¯Ø«Ø©</button>
<button onclick="show('rank',this)">ØªØ±ØªÙŠØ¨</button>
</nav>

<script>
let users=JSON.parse(localStorage.getItem("users")||"{}");
let current=localStorage.getItem("current");

function login(){
let u=username.value.trim();
if(!u)return;
if(!users[u])users[u]={points:0,premium:false};
localStorage.setItem("users",JSON.stringify(users));
localStorage.setItem("current",u);
location.reload();
}

if(current){
document.getElementById("login").style.display="none";
show("home",document.querySelector("nav button"));
document.getElementById("user").textContent=current;
}

function update(){
users=JSON.parse(localStorage.getItem("users"));
document.getElementById("points").textContent=users[current].points;
renderRank();
}

let skills=JSON.parse(localStorage.getItem("skills")||"[]");

function addSkill(){
skills.unshift({user:current,points:+spoints.value,name:sname.value});
users[current].points+=+spoints.value;
save();
}

function renderSkills(){
skillsBox.innerHTML="";
skills.forEach(s=>{
skillsBox.innerHTML+=`<div class="card">
<b>${s.name}</b><br>${s.points} â­<br>Ù…Ù† ${s.user}
</div>`;
});
}

function upgrade(){
users[current].premium=true;
alert("Ø£Ù†Øª Ø§Ù„Ø¢Ù† Premium â­");
save();
}

let chat=JSON.parse(localStorage.getItem("chat")||"[]");
function send(){
chat.push(current+": "+msg.value);
localStorage.setItem("chat",JSON.stringify(chat));
msg.value="";
renderChat();
}

function renderChat(){
chatBox.innerHTML=chat.map(m=>`<div class="msg">${m}</div>`).join("");
}

function renderRank(){
leaders.innerHTML="";
Object.entries(users)
.sort((a,b)=>b[1].points-a[1].points)
.forEach(([u,d])=>{
leaders.innerHTML+=`<div class="leader">
<span>${u}</span>
<span>${d.points} â­ ${d.premium?"â­":""}</span>
</div>`;
});
}

function save(){
localStorage.setItem("users",JSON.stringify(users));
localStorage.setItem("skills",JSON.stringify(skills));
update();renderSkills();
}

function show(id,btn){
document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
btn.classList.add("active");
}

update();renderSkills();renderChat();
</script>

</body>
    </html>
